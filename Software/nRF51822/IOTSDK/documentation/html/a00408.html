<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 IoT SDK: Bootloader images</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 IoT SDK
   &#160;<span id="projectnumber">v0.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="usergroup0.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00408.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Bootloader images<div class="ingroups"><a class="el" href="a00450.html">IoT DFU</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Internal Device Firmware Update module interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga27939a71efab532d173cfa703e06a091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#ga27939a71efab532d173cfa703e06a091">bootloader_settings_load</a> (<a class="el" href="a00105.html">bootloader_settings_t</a> *p_bootloader_settings)</td></tr>
<tr class="memdesc:ga27939a71efab532d173cfa703e06a091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for loading the bootloader settings.  <a href="#ga27939a71efab532d173cfa703e06a091">More...</a><br/></td></tr>
<tr class="separator:ga27939a71efab532d173cfa703e06a091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga491e315bbb86ba4eae0eb8e8cbdf6f5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#ga491e315bbb86ba4eae0eb8e8cbdf6f5e">bootloader_settings_save</a> (<a class="el" href="a00105.html">bootloader_settings_t</a> *p_bootloader_settings)</td></tr>
<tr class="memdesc:ga491e315bbb86ba4eae0eb8e8cbdf6f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for saving the bootloader settings.  <a href="#ga491e315bbb86ba4eae0eb8e8cbdf6f5e">More...</a><br/></td></tr>
<tr class="separator:ga491e315bbb86ba4eae0eb8e8cbdf6f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46075f420f41e2c6fe102a07e0def6e9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#ga46075f420f41e2c6fe102a07e0def6e9">dfu_bl_image_validate</a> (void)</td></tr>
<tr class="memdesc:ga46075f420f41e2c6fe102a07e0def6e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for checking if new bootloader will be installed.  <a href="#ga46075f420f41e2c6fe102a07e0def6e9">More...</a><br/></td></tr>
<tr class="separator:ga46075f420f41e2c6fe102a07e0def6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e5bafd4904f40ca9c514479f1581199"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#ga6e5bafd4904f40ca9c514479f1581199">dfu_app_image_validate</a> (void)</td></tr>
<tr class="memdesc:ga6e5bafd4904f40ca9c514479f1581199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for validating that new application has been correctly installed.  <a href="#ga6e5bafd4904f40ca9c514479f1581199">More...</a><br/></td></tr>
<tr class="separator:ga6e5bafd4904f40ca9c514479f1581199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d1fb87fd6d01940f8c69cfc08d74cb9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#ga4d1fb87fd6d01940f8c69cfc08d74cb9">dfu_sd_image_validate</a> (void)</td></tr>
<tr class="memdesc:ga4d1fb87fd6d01940f8c69cfc08d74cb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for validating that new SoftDevice has been correctly installed.  <a href="#ga4d1fb87fd6d01940f8c69cfc08d74cb9">More...</a><br/></td></tr>
<tr class="separator:ga4d1fb87fd6d01940f8c69cfc08d74cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5c719005d3cb149dc8af672c8782037"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#gaa5c719005d3cb149dc8af672c8782037">dfu_bl_image_swap</a> (void)</td></tr>
<tr class="memdesc:gaa5c719005d3cb149dc8af672c8782037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for swapping existing bootloader with newly received.  <a href="#gaa5c719005d3cb149dc8af672c8782037">More...</a><br/></td></tr>
<tr class="separator:gaa5c719005d3cb149dc8af672c8782037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5f2b2c8faf704d6e2be18df05ceee1b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#gac5f2b2c8faf704d6e2be18df05ceee1b">dfu_sd_image_swap</a> (void)</td></tr>
<tr class="memdesc:gac5f2b2c8faf704d6e2be18df05ceee1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for swapping existing SoftDevice with newly received.  <a href="#gac5f2b2c8faf704d6e2be18df05ceee1b">More...</a><br/></td></tr>
<tr class="separator:gac5f2b2c8faf704d6e2be18df05ceee1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98f109107cbb84eb1851b9f9e24bb4e0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00408.html#ga98f109107cbb84eb1851b9f9e24bb4e0">dfu_app_image_swap</a> (void)</td></tr>
<tr class="memdesc:ga98f109107cbb84eb1851b9f9e24bb4e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for swapping existing application with newly received.  <a href="#ga98f109107cbb84eb1851b9f9e24bb4e0">More...</a><br/></td></tr>
<tr class="separator:ga98f109107cbb84eb1851b9f9e24bb4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Internal Device Firmware Update module interface. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga27939a71efab532d173cfa703e06a091"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bootloader_settings_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00105.html">bootloader_settings_t</a> *&#160;</td>
          <td class="paramname"><em>p_bootloader_settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for loading the bootloader settings. </p>
<p>This function is defined as an interface function. The implementation of this is system specific and needs to be implemented by a user module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_bootloader_settings</td><td>Current bootloader settings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga491e315bbb86ba4eae0eb8e8cbdf6f5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bootloader_settings_save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00105.html">bootloader_settings_t</a> *&#160;</td>
          <td class="paramname"><em>p_bootloader_settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for saving the bootloader settings. </p>
<p>This function is defined as an interface function. The implementation of this is system specific and needs to be implemented by a user module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_bootloader_settings</td><td>New bootloader settings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga98f109107cbb84eb1851b9f9e24bb4e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dfu_app_image_swap </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for swapping existing application with newly received. </p>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS on succesfull swapping. For error code please refer to sd_mbr_command_copy_sd_t. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6e5bafd4904f40ca9c514479f1581199"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dfu_app_image_validate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for validating that new application has been correctly installed. </p>
<p>The function will also compare the copied version against the firmware source, and mark it as installed if comparisson is a success before returning.</p>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS if install was successful. NRF_ERROR_NULL if the images differs. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa5c719005d3cb149dc8af672c8782037"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dfu_bl_image_swap </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for swapping existing bootloader with newly received. </p>
<dl class="section note"><dt>Note</dt><dd>This function will not return any error code but rather reset the chip after. If an error occurs during copy of bootloader, this will be resumed by the system on power-on again.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS on succesfull swapping. For error code please refer to sd_mbr_command_copy_bl_t. </dd></dl>

</div>
</div>
<a class="anchor" id="ga46075f420f41e2c6fe102a07e0def6e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dfu_bl_image_validate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for checking if new bootloader will be installed. </p>
<p>The function will also compare the copied version against the firmware source, and mark it as installed if comparisson is a success before returning.</p>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS if install was successful. NRF_ERROR_NULL if the images differs. </dd></dl>

</div>
</div>
<a class="anchor" id="gac5f2b2c8faf704d6e2be18df05ceee1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dfu_sd_image_swap </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for swapping existing SoftDevice with newly received. </p>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS on succesfull swapping. For error code please refer to sd_mbr_command_copy_sd_t. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4d1fb87fd6d01940f8c69cfc08d74cb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dfu_sd_image_validate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for validating that new SoftDevice has been correctly installed. </p>
<p>The function will also compare the copied version against the firmware source, and mark it as installed if comparisson is a success before returning.</p>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS if install was successful. NRF_ERROR_NULL if the images differs. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 27 2015 13:40:50 for nRF5 IoT SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
